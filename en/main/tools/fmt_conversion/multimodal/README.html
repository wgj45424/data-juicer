
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Multimodal Tools &#8212; Data Juicer</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=34d13042" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../../../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tools/fmt_conversion/multimodal/README';</script>
    <script src="../../../_static/sidebar.js?v=3fc1065c"></script>
    <script src="../../../_static/switcher-mobile.js?v=07875724"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="icon" href="../../../_static/icon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Post Tuning Tools" href="../post_tuning_dialog/README.html" />
    <link rel="prev" title="Format Conversion Tools" href="../README.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search docs..."
         aria-label="Search docs..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/icon.png" class="logo__image only-light" alt=""/>
    <img src="../../../_static/icon.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">Data Juicer</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../../docs_index.html">
    DOCS
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://datajuicer.github.io/data-juicer-sandbox/en/main/">
    Sandbox
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://datajuicer.github.io/data-juicer-hub/en/main/">
    Hub
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://datajuicer.github.io/data-juicer-agents/en/main/">
    Agents
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/wgj45424/data-juicer" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><div class="navbar-switcher-container">
  
  <div class="navbar-dropdown language-dropdown">
    <button type="button" 
            class="navbar-dropdown-trigger" 
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Select language: en">
      <span class="switcher-icon" aria-hidden="true">üåê</span>
      <span class="switcher-text">en</span>
      <i class="fa-solid fa-chevron-down dropdown-icon" aria-hidden="true"></i>
    </button>
    <div class="navbar-dropdown-panel" role="menu">
      <div class="dropdown-content">
        
          
          
          <a href="../../../../../en/main/tools/fmt_conversion/multimodal/README.html"
             class="dropdown-item active"
             role="menuitem"
             aria-current="true">
            English
          </a>
        
          
          
          <a href="../../../../../zh_CN/main/tools/fmt_conversion/multimodal/README_ZH.html"
             class="dropdown-item "
             role="menuitem"
             >
            ÁÆÄ‰Ωì‰∏≠Êñá
          </a>
        
      </div>
    </div>
  </div>
  

  
  <div class="navbar-dropdown version-dropdown">
    <button type="button" 
            class="navbar-dropdown-trigger" 
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Select version: main">
      <span class="switcher-icon" aria-hidden="true">üì¶</span>
      <span class="switcher-text">main</span>
      <i class="fa-solid fa-chevron-down dropdown-icon" aria-hidden="true"></i>
    </button>
    <div class="navbar-dropdown-panel" role="menu">
      <div class="dropdown-content">
        
        <a href="../../../../main/tools/fmt_conversion/multimodal/README.html"
           class="dropdown-item active"
           role="menuitem"
           aria-current="true">
          main
        </a>
        
      </div>
    </div>
  </div>
  
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../../docs_index.html">
    DOCS
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://datajuicer.github.io/data-juicer-sandbox/en/main/">
    Sandbox
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://datajuicer.github.io/data-juicer-hub/en/main/">
    Hub
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://datajuicer.github.io/data-juicer-agents/en/main/">
    Agents
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/wgj45424/data-juicer" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><div class="navbar-switcher-container">
  
  <div class="navbar-dropdown language-dropdown">
    <button type="button" 
            class="navbar-dropdown-trigger" 
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Select language: en">
      <span class="switcher-icon" aria-hidden="true">üåê</span>
      <span class="switcher-text">en</span>
      <i class="fa-solid fa-chevron-down dropdown-icon" aria-hidden="true"></i>
    </button>
    <div class="navbar-dropdown-panel" role="menu">
      <div class="dropdown-content">
        
          
          
          <a href="../../../../../en/main/tools/fmt_conversion/multimodal/README.html"
             class="dropdown-item active"
             role="menuitem"
             aria-current="true">
            English
          </a>
        
          
          
          <a href="../../../../../zh_CN/main/tools/fmt_conversion/multimodal/README_ZH.html"
             class="dropdown-item "
             role="menuitem"
             >
            ÁÆÄ‰Ωì‰∏≠Êñá
          </a>
        
      </div>
    </div>
  </div>
  

  
  <div class="navbar-dropdown version-dropdown">
    <button type="button" 
            class="navbar-dropdown-trigger" 
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Select version: main">
      <span class="switcher-icon" aria-hidden="true">üì¶</span>
      <span class="switcher-text">main</span>
      <i class="fa-solid fa-chevron-down dropdown-icon" aria-hidden="true"></i>
    </button>
    <div class="navbar-dropdown-panel" role="menu">
      <div class="dropdown-content">
        
        <a href="../../../../main/tools/fmt_conversion/multimodal/README.html"
           class="dropdown-item active"
           role="menuitem"
           aria-current="true">
          main
        </a>
        
      </div>
    </div>
  </div>
  
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../docs/tutorial/DJ-Cookbook.html">DJ-Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/tutorial/Installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/tutorial/QuickStart.html">Quick Start</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">docs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../docs/Operators.html">Operator Schemas ÁÆóÂ≠êÊèêË¶Å</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/DatasetCfg.html">Dataset Configuration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/BadDataExhibition.html">‚ÄúBad‚Äù Data Exhibition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/DJ_SORA.html">DJ-SORA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/DJ_service.html">DJ_service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/DeveloperGuide.html">How-to Guide for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/Distributed.html">Distributed Data Processing in Data-Juicer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/JobManagement.html">Job Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/PartitionAndCheckpoint.html">Partitioned Processing with Checkpointing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/awesome_llm_data.html">Awesome Data-Model Co-Development of MLLMs </a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">operators</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/aggregator/index.html">Aggregator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/deduplicator/index.html">Deduplicator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/filter/index.html">Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/mapper/index.html">Mapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/formatter/index.html">Formatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/grouper/index.html">Grouper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/selector/index.html">Selector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/operators/op/index.html">Op</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">demos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../demos/README.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../demos/process_video_on_ray/data/Note.html">Note for dataset path</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">tools</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../distributed_deduplication/README.html">Distributed Fuzzy Deduplication Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../evaluator/README.html">Auto Evaluation Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../evaluator/gpt_eval/README.html">GPT EVAL: Evaluate your model with OpenAI API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../evaluator/recorder/README.html">Evaluation Results Recorder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Format Conversion Tools</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Multimodal Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../post_tuning_dialog/README.html">Post Tuning Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../humanops/README.html">Label Studio Service Utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mm_eval/inception_metrics/README.html">Metrics for video generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mm_eval/vbench_metrics/README.html">VBench metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../postprocess/README.html">Postprocess tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preprocess/README.html">Preprocess Tools</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">thirdparty</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../thirdparty/LLM_ecosystems/README.html">LLM Ecosystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../thirdparty/models/README.html">Third-party Model Library</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../../docs_index.html" class="nav-link">DOCS</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Multimodal Tools</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="multimodal-tools">
<h1>Multimodal Tools<a class="headerlink" href="#multimodal-tools" title="Link to this heading">#</a></h1>
<p>This folder contains some scripts and tools for multimodal datasets before and after using Data-Juicer.</p>
<section id="convert-absolute-path-to-relative-path">
<h2>Convert Absolute Path to Relative Path<a class="headerlink" href="#convert-absolute-path-to-relative-path" title="Link to this heading">#</a></h2>
<p>After being processed by Data-Juicer, the output multimodal data paths are absolute and could originate from diverse sources, being stored under various root directories.
To convert absolute paths to relative paths and facilitate data migration, we provide a tool to carry out this transformation. This tool also supports copying related multimodal data from multiple sources into a single directory.
Both input and output of this utility conform to Data-Juicer‚Äôs data format. If you wish to convert the data into another format while maintaining relative paths, please run this tool before proceeding with the dataset format conversion in the following section.
To learn more about the usage of the absolute to relative path conversion tool, you can execute the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>tools/fmt_conversion/multimodal/absolute_path_to_relative_path.py<span class="w"> </span>--help
</pre></div>
</div>
</section>
<section id="dataset-format-conversion">
<h2>Dataset Format Conversion<a class="headerlink" href="#dataset-format-conversion" title="Link to this heading">#</a></h2>
<p>Due to large format diversity among different multimodal datasets and works,
Data-Juicer propose a novel intermediate text-based interleaved data format for multimodal dataset, which
is based on chunk-wise formats such MMC4 dataset.</p>
<p>In the Data-Juicer format, a multimodal sample or document is based on a text,
which consists of several text chunks. Each chunk is a semantic unit, and all the
multimodal information in a chunk should talk about the same thing and be aligned
with each other.</p>
<p>Here is a multimodal sample example in Data-Juicer format below.</p>
<ul class="simple">
<li><p>It includes 4 chunks split by the special token <code class="docutils literal notranslate"><span class="pre">&lt;|__dj__eoc|&gt;</span></code>.</p></li>
<li><p>In addition to texts, there are 3 other modalities: images, audios, videos.
They are stored on the disk and their paths are
listed in the corresponding first-level fields in the sample.</p></li>
<li><p>Other modalities are represented as special tokens in the text (e.g. image ‚Äì <code class="docutils literal notranslate"><span class="pre">&lt;__dj__image&gt;</span></code>).
The special tokens of each modality correspond to the paths in the order of appearance.
(e.g. the two image tokens in the third chunk are images of antarctica_map and europe_map respectively)</p></li>
<li><p>There could be multiple types of modalities and multiple modality special tokens in a single chunk,
and they are semantically aligned with each other and text in this chunk.
The position of special tokens can be random in a chunk. (In general, they are usually before or after the text.)</p></li>
<li><p>For multimodal samples, unlike text-only samples, the computed stats for other
modalities could be a list of stats for the list of multimodal data (e.g. image_widths in this sample).</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;__dj__image&gt; Antarctica is Earth&#39;s southernmost and least-populated continent. &lt;|__dj__eoc|&gt; &quot;</span>
          <span class="s2">&quot;&lt;__dj__video&gt; &lt;__dj__audio&gt; Situated almost entirely south of the Antarctic Circle and surrounded by the &quot;</span>
          <span class="s2">&quot;Southern Ocean (also known as the Antarctic Ocean), it contains the geographic South Pole. &lt;|__dj__eoc|&gt; &quot;</span>
          <span class="s2">&quot;Antarctica is the fifth-largest continent, being about 40</span><span class="si">% la</span><span class="s2">rger than Europe, &quot;</span>
          <span class="s2">&quot;and has an area of 14,200,000 km2 (5,500,000 sq mi). &lt;__dj__image&gt; &lt;__dj__image&gt; &lt;|__dj__eoc|&gt; &quot;</span>
          <span class="s2">&quot;Most of Antarctica is covered by the Antarctic ice sheet, &quot;</span>
          <span class="s2">&quot;with an average thickness of 1.9 km (1.2 mi). &lt;|__dj__eoc|&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;path/to/the/image/of/antarctica_snowfield&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path/to/the/image/of/antarctica_map&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path/to/the/image/of/europe_map&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;audios&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;path/to/the/audio/of/sound_of_waves_in_Antarctic_Ocean&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;videos&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;path/to/the/video/of/remote_sensing_view_of_antarctica&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;customized&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;stats&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;lang&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image_widths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">224</span><span class="p">,</span> <span class="mi">336</span><span class="p">,</span> <span class="mi">512</span><span class="p">],</span>
    <span class="o">...</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>According to this format, Data-Juicer provided several dataset format conversion tools for some popular multimodal
works.</p>
<p>These tools consist of two types:</p>
<ul class="simple">
<li><p>Other format to Data-Juicer format: These tools are in <code class="docutils literal notranslate"><span class="pre">source_format_to_data_juicer_format</span></code> directory. They help to convert datasets in other formats to target datasets in Data-Juicer format.</p></li>
<li><p>Data-Juicer format to other format: These tools are in <code class="docutils literal notranslate"><span class="pre">data_juicer_format_to_target_format</span></code> directory. They help to convert datasets in Data-Juicer formats to target datasets in target format.</p></li>
</ul>
<p>For now, dataset formats that are supported by Data-Juicer are listed in the following table.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Format</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>source_format_to_data_juicer_format</p></th>
<th class="head"><p>data_juicer_format_to_target_format</p></th>
<th class="head"><p>Ref.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LLaVA-like</p></td>
<td><p>image-text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">llava_to_dj.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dj_to_llava.py</span></code></p></td>
<td><p><a class="reference external" href="https://github.com/haotian-liu/LLaVA/blob/main/docs/Finetune_Custom_Data.md#dataset-format">Format Description</a></p></td>
</tr>
<tr class="row-odd"><td><p>MMC4-like</p></td>
<td><p>image-text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mmc4_to_dj.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dj_to_mmc4.py</span></code></p></td>
<td><p><a class="reference external" href="https://github.com/allenai/mmc4#documents">Format Description</a></p></td>
</tr>
<tr class="row-even"><td><p>WavCaps-like</p></td>
<td><p>audio-text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">wavcaps_to_dj.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dj_to_wavcaps.py</span></code></p></td>
<td><p><a class="reference external" href="https://github.com/XinhaoMei/WavCaps#table-of-contents">Format Description</a></p></td>
</tr>
<tr class="row-odd"><td><p>Video-ChatGPT-like</p></td>
<td><p>video-text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">video_chatgpt_to_dj.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dj_to_video_chatgpt.py</span></code></p></td>
<td><p>[Format Description](<a class="github reference external" href="https://github.com/wgj45424/data-juicer/blob/main/tools/fmt_conversion/multimodal/">wgj45424/data-juicer</a> https:/github.com/mbzuai-oryx/Video-ChatGPT/tree/main/data)</p></td>
</tr>
<tr class="row-even"><td><p>Youku-mPLUG-like</p></td>
<td><p>video-text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">youku_to_dj.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dj_to_youku.py</span></code></p></td>
<td><p><a class="reference external" href="https://modelscope.cn/datasets/modelscope/Youku-AliceMind/summary">Format Description</a></p></td>
</tr>
<tr class="row-odd"><td><p>InternVid-like</p></td>
<td><p>video-text</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">internvid_to_dj.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dj_to_internvid.py</span></code></p></td>
<td><p><a class="reference external" href="https://huggingface.co/datasets/OpenGVLab/InternVid">Format Description</a></p></td>
</tr>
</tbody>
</table>
</div>
<p>For all tools, you can run the following command to find out the usage of them:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># e.g. llava_to_dj.py</span>
python<span class="w"> </span>tools/fmt_conversion/multimodal/source_format_to_data_juicer_format/llava_to_dj.py<span class="w"> </span>--help
</pre></div>
</div>
<p>Before using these tools, you might need to take a glance at the reference
materials in the above tables for each format, to better know the detail format
information and understand the arguments for each tool.</p>
<section id="notice">
<h3>Notice<a class="headerlink" href="#notice" title="Link to this heading">#</a></h3>
<p>There might be some tiny differences after converting a source dataset to Data-Juicer
format and convert it back. However, these differences have nearly no effects
on the semantics of datasets. Here we will show these tiny differences in detail
for each source format.</p>
<section id="llava-like">
<h4>LLaVA-like<a class="headerlink" href="#llava-like" title="Link to this heading">#</a></h4>
<p>The format of LLaVA-like datasets are defined <a class="reference external" href="https://github.com/haotian-liu/LLaVA/blob/main/docs/Finetune_Custom_Data.md#dataset-format">here</a>.
Although it‚Äôs simple, but in real scenarios, there might be some slight variations
in some samples.</p>
<p>Here we take the <a class="reference external" href="https://huggingface.co/datasets/liuhaotian/LLaVA-Instruct-150K/blob/main/llava_v1_5_mix665k.json">visual instruction tuning dataset</a> as an example,
and show how these variations influence the dataset format. The table below
shows the number of different samples between the original dataset and the
dataset after processing. There are 665,298 samples in the original dataset.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>process</p></th>
<th class="head"><p># of diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1. apply <code class="docutils literal notranslate"><span class="pre">llava_to_dj.py</span></code> and <code class="docutils literal notranslate"><span class="pre">dj_to_llava.py</span></code></p></td>
<td><p>113,501</p></td>
</tr>
<tr class="row-odd"><td><p>2. convert integer ids to string ids in the original dataset</p></td>
<td><p>41,361</p></td>
</tr>
<tr class="row-even"><td><p>3. strip whitespaces before and after values of conversations in the original dataset</p></td>
<td><p>40,688</p></td>
</tr>
<tr class="row-odd"><td><p>4. add <code class="docutils literal notranslate"><span class="pre">'model':</span> <span class="pre">''</span></code> fields in the converted dataset</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>It‚Äôs worth noticing that processes 2-4 won‚Äôt influence the semantics of sample conversations in the dataset.
Thus we think the dataset after conversion can align with the original dataset.</p>
<p>Finally, the only 1 sample is different because there are some extra useless fields (‚Äútext‚Äù, ‚Äúmarkdown‚Äù)
in the conversations, which is shown below. But the ‚Äúfrom‚Äù and ‚Äúvalue‚Äù fields are the same between original
and converted datasets, so we can regard this sample is aligned with the original one as well.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="err">#</span><span class="w"> </span><span class="err">origi</span><span class="kc">nal</span><span class="w"> </span><span class="err">co</span><span class="kc">n</span><span class="err">versa</span><span class="kc">t</span><span class="err">io</span><span class="kc">ns</span>
<span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;human&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;sentry self hosted api 504&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;gpt&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;A 504 error when using the Sentry self-hosted API typically indicates that the API request timed out. This means that the server hosting the API did not receive a response from the client within the expected time frame.\n\nHere are a few possible reasons for a 504 error when using the Sentry self-hosted API:\n\nSlow network connection: The API request may be taking longer than expected due to a slow network connection. Check your network connection and try again.\n\nServer overload: The server hosting the API may be overloaded with requests. Try again later when the server load has decreased.\n\nLarge dataset: If you are trying to retrieve a large amount of data, the API request may take longer than expected. Try breaking up the request into smaller chunks or optimizing the query to retrieve only the necessary data.\n\nAPI endpoint issues: There may be issues with the specific API endpoint you are using. Try using a different endpoint or contact the Sentry support team for assistance.\n\nTo resolve a 504 error when using the Sentry self-hosted API, try the following:\n\nCheck your network connection and ensure that it is stable.\n\nVerify that the server hosting the API is not overloaded with requests.\n\nOptimize the query to retrieve only the necessary data.\n\nTry using a different API endpoint.\n\nIf the issue persists, contact the Sentry support team for assistance.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;A 504 error when using the Sentry self-hosted API typically indicates that the API request timed out. This means that the server hosting the API did not receive a response from the client within the expected time frame.\n\nHere are a few possible reasons for a 504 error when using the Sentry self-hosted API:\n\n1. Slow network connection: The API request may be taking longer than expected due to a slow network connection. Check your network connection and try again.\n2. Server overload: The server hosting the API may be overloaded with requests. Try again later when the server load has decreased.\n3. Large dataset: If you are trying to retrieve a large amount of data, the API request may take longer than expected. Try breaking up the request into smaller chunks or optimizing the query to retrieve only the necessary data.\n4. API endpoint issues: There may be issues with the specific API endpoint you are using. Try using a different endpoint or contact the Sentry support team for assistance.\n\nTo resolve a 504 error when using the Sentry self-hosted API, try the following:\n\n1. Check your network connection and ensure that it is stable.\n2. Verify that the server hosting the API is not overloaded with requests.\n3. Optimize the query to retrieve only the necessary data.\n4. Try using a different API endpoint.\n\nIf the issue persists, contact the Sentry support team for assistance.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;markdown&quot;</span><span class="p">:{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;answer-markdown&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="s2">&quot;A 504 error when using the Sentry self-hosted API typically indicates that the API request timed out. This means that the server hosting the API did not receive a response from the client within the expected time frame.\n\nHere are a few possible reasons for a 504 error when using the Sentry self-hosted API:\n\n1. Slow network connection: The API request may be taking longer than expected due to a slow network connection. Check your network connection and try again.\n\n2. Server overload: The server hosting the API may be overloaded with requests. Try again later when the server load has decreased.\n\n3. Large dataset: If you are trying to retrieve a large amount of data, the API request may take longer than expected. Try breaking up the request into smaller chunks or optimizing the query to retrieve only the necessary data.\n\n4. API endpoint issues: There may be issues with the specific API endpoint you are using. Try using a different endpoint or contact the Sentry support team for assistance.\n\nTo resolve a 504 error when using the Sentry self-hosted API, try the following:\n\n1. Check your network connection and ensure that it is stable.\n\n2. Verify that the server hosting the API is not overloaded with requests.\n\n3. Optimize the query to retrieve only the necessary data.\n\n4. Try using a different API endpoint.\n\nIf the issue persists, contact the Sentry support team for assistance.&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>

<span class="err">#</span><span class="w"> </span><span class="err">co</span><span class="kc">n</span><span class="err">ver</span><span class="kc">te</span><span class="err">d</span><span class="w"> </span><span class="err">co</span><span class="kc">n</span><span class="err">versa</span><span class="kc">t</span><span class="err">io</span><span class="kc">ns</span>
<span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;human&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;sentry self hosted api 504&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;gpt&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;A 504 error when using the Sentry self-hosted API typically indicates that the API request timed out. This means that the server hosting the API did not receive a response from the client within the expected time frame.\n\nHere are a few possible reasons for a 504 error when using the Sentry self-hosted API:\n\n1. Slow network connection: The API request may be taking longer than expected due to a slow network connection. Check your network connection and try again.\n2. Server overload: The server hosting the API may be overloaded with requests. Try again later when the server load has decreased.\n3. Large dataset: If you are trying to retrieve a large amount of data, the API request may take longer than expected. Try breaking up the request into smaller chunks or optimizing the query to retrieve only the necessary data.\n4. API endpoint issues: There may be issues with the specific API endpoint you are using. Try using a different endpoint or contact the Sentry support team for assistance.\n\nTo resolve a 504 error when using the Sentry self-hosted API, try the following:\n\n1. Check your network connection and ensure that it is stable.\n2. Verify that the server hosting the API is not overloaded with requests.\n3. Optimize the query to retrieve only the necessary data.\n4. Try using a different API endpoint.\n\nIf the issue persists, contact the Sentry support team for assistance.&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="mmc4-like">
<h4>MMC4-like<a class="headerlink" href="#mmc4-like" title="Link to this heading">#</a></h4>
<p>The format of MMC4-like datasets are defined <a class="reference external" href="https://github.com/allenai/mmc4#documents">here</a>. Except <code class="docutils literal notranslate"><span class="pre">image_info</span></code> and <code class="docutils literal notranslate"><span class="pre">text_list</span></code>,
which are used when converting them to Data-Juicer format, there is an important field <code class="docutils literal notranslate"><span class="pre">similarity_matrix</span></code>. Similarity matrix is
a matrix of shape <code class="docutils literal notranslate"><span class="pre">len(image_info)</span> <span class="pre">x</span> <span class="pre">len(text_list)</span></code>, which means it highly depends on the numbers of images and text sentences and their
orders.</p>
<p>However, when processing such datasets with Data-Juicer, images or sentences might be removed from a sample by Filters, and they could be
modified by some Mappers. Thus, after processing, this similarity matrix might be no longer aligned with <code class="docutils literal notranslate"><span class="pre">image_info</span></code> or <code class="docutils literal notranslate"><span class="pre">text_list</span></code>.
Users should be cautious about this point if you need this matrix in later usages.</p>
<p>Despite these extra fields, tools for MMC4 can perfectly convert MMC4-like datasets to Data-Juicer-format datasets and convert them back~</p>
</section>
<section id="wavcaps-like">
<h4>WavCaps-like<a class="headerlink" href="#wavcaps-like" title="Link to this heading">#</a></h4>
<p>The <a class="reference external" href="https://github.com/XinhaoMei/WavCaps#dataset">WavCaps</a> is composed of four sub-datasets: <a class="reference external" href="https://freesound.org/">FreeSound</a>, <a class="reference external" href="https://sound-effects.bbcrewind.co.uk/">BBC Sound Effects</a>,<a class="reference external" href="https://soundbible.com/">SoundBible</a> and <a class="reference external" href="https://research.google.com/audioset/download_strong.html">AudioSet Strongly-labelled Subset</a>. Each sub-dataset has different fields. For example, the ‚Äòdescription‚Äô field is included in SoundBible, but does not exist in AudioSet. To ensure that the different sub-datasets can be properly merged after conversion, the union of all fields from the sub-datasets is used during the wavcaps_to_dj stage, and all fields are fully retained during the dj_to_wavcaps stage.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="err">#</span><span class="w"> </span><span class="err">origi</span><span class="kc">nal</span><span class="w"> </span><span class="err">da</span><span class="kc">taset</span>
<span class="p">{</span><span class="w"> </span><span class="nt">&quot;num_captions_per_audio&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Airplane Landing Airport&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Large commercial airplane landing at an airport runway.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Daniel Simion&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2219-Airplane-Landing-Airport.html&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;caption&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;An airplane is landing.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2219&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">14.1424375</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;audio&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wav_path&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;download_link&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://soundbible.com/grab.php?id=2219&amp;type=wav&quot;</span><span class="p">}]</span>
<span class="p">}</span>

<span class="err">#</span><span class="w"> </span><span class="err">co</span><span class="kc">n</span><span class="err">ver</span><span class="kc">te</span><span class="err">d</span><span class="w"> </span><span class="err">da</span><span class="kc">taset</span>
<span class="p">{</span><span class="w"> </span><span class="nt">&quot;num_captions_per_audio&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Airplane Landing Airport&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Large commercial airplane landing at an airport runway.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Daniel Simion&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2219-Airplane-Landing-Airport.html&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;caption&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;An airplane is landing.&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2219&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">14.1424375</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;audio&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wav_path&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;download_link&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://soundbible.com/grab.php?id=2219&amp;type=wav&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="video-chatgpt-like">
<h4>Video-ChatGPT-like<a class="headerlink" href="#video-chatgpt-like" title="Link to this heading">#</a></h4>
<p>The Video-ChatGPT dataset contains 3 types of data with unified format:</p>
<ul class="simple">
<li><p>Topics for Video summarization</p></li>
<li><p>Description-based question-answers (exploring spatial, temporal, relationships, and reasoning concepts);</p></li>
<li><p>and Creative/generative question-answers.
They all obey the <code class="docutils literal notranslate"><span class="pre">&lt;question,</span> <span class="pre">answer,</span> <span class="pre">video_id&gt;</span></code> format, where the <code class="docutils literal notranslate"><span class="pre">video_id</span></code> is in the form ‚Äúv_youtube_id‚Äù. We suppose that users have downloaded these videos already, and they need to specify the corresponding storage directory when using the converter tool.</p></li>
</ul>
</section>
<section id="youku-mplug-like">
<h4>Youku-mPLUG-like<a class="headerlink" href="#youku-mplug-like" title="Link to this heading">#</a></h4>
<p>The Youku-mPLUG dataset contains 4 types of format: pretrain, classification, retrieval, captioning.
They are slightly different from each other in field name or other attributes, but all of them obey the <code class="docutils literal notranslate"><span class="pre">&lt;video,</span> <span class="pre">caption&gt;</span></code> format.</p>
</section>
<section id="internvid-like">
<h4>InternVid-like<a class="headerlink" href="#internvid-like" title="Link to this heading">#</a></h4>
<p>The InternVid dataset contains 4 fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">YoutubeID</span></code>: the Youtube ID of the video used in the sample.
We suppose that users have downloaded these videos already
and this field is replaced with its storage path.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Start_timestamp</span></code>: the start timestamp in string of the video clip for the
corresponding caption.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">End_timestamp</span></code>: the end timestamp in string of the video clip for the
corresponding caption.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Caption</span></code>: the corresponding caption for the video clip.</p></li>
</ul>
<p>As we can see, the caption in this dataset corresponds to the video clip
specified by the start/end timestamps instead of the whole video. So the
conversion tool will cut the specified video clip for you if the argument
<code class="docutils literal notranslate"><span class="pre">cut_videos</span></code> is set to True. You can cut before conversion by yourself as well.</p>
</section>
<section id="msr-vtt-like">
<h4>MSR-VTT-like<a class="headerlink" href="#msr-vtt-like" title="Link to this heading">#</a></h4>
<p>MSR-VTT dataset contains multiple fields, here we use 2 fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">video_id</span></code>: the video file name without suffix used in the sample.
We suppose that users have downloaded these videos already„ÄÇ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">caption</span></code>: the corresponding caption for the video.</p></li>
</ul>
</section>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../README.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Format Conversion Tools</p>
      </div>
    </a>
    <a class="right-next"
       href="../post_tuning_dialog/README.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Post Tuning Tools</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#convert-absolute-path-to-relative-path">Convert Absolute Path to Relative Path</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-format-conversion">Dataset Format Conversion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#notice">Notice</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#llava-like">LLaVA-like</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mmc4-like">MMC4-like</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#wavcaps-like">WavCaps-like</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#video-chatgpt-like">Video-ChatGPT-like</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#youku-mplug-like">Youku-mPLUG-like</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#internvid-like">InternVid-like</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#msr-vtt-like">MSR-VTT-like</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/tools/fmt_conversion/multimodal/README.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      ¬© Copyright 2024, Data-Juicer Team.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.0.4.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>